<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢—Ä–µ–Ω–∞–∂—ë—Ä User Stories</title>
    <!--
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    üì∏ –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –î–û–ë–ê–í–õ–ï–ù–ò–Æ –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ô
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    
    –ü–æ–ª–æ–∂–∏ –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Ç—É –∂–µ –ø–∞–ø–∫—É, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —ç—Ç–æ—Ç HTML —Ñ–∞–π–ª!
    
    –°–ü–ò–°–û–ö –ù–£–ñ–ù–´–• –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ô (5 —à—Ç—É–∫):
    
    1. beat-saber.jpg       - –ò–≥—Ä–∞ Beat Saber (–º—É–∑—ã–∫–∞–ª—å–Ω–∞—è VR-–∏–≥—Ä–∞)
    2. public-speaking.jpg  - VR-—Ç—Ä–µ–Ω–∞–∂—ë—Ä –ø—É–±–ª–∏—á–Ω—ã—Ö –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏–π
    3. dungeon-quest.jpg    - VR-–∏–≥—Ä–∞ –∫–≤–µ—Å—Ç –≤ –ø–æ–¥–∑–µ–º–µ–ª—å–µ
    4. virtual-museum.jpg   - VR-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –º—É–∑–µ–π
    5. space-racing.jpg     - VR-–∏–≥—Ä–∞ –∫–æ—Å–º–∏—á–µ—Å–∫–∏–µ –≥–æ–Ω–∫–∏
    
    –¢–†–ï–ë–û–í–ê–ù–ò–Ø –ö –§–û–¢–û:
    - –§–æ—Ä–º–∞—Ç: JPG –∏–ª–∏ PNG
    - –†–∞–∑–º–µ—Ä: 800x400 –ø–∏–∫—Å–µ–ª–µ–π (–∏–ª–∏ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    - –í–µ—Å: –¥–æ 500 –ö–ë –∫–∞–∂–¥–æ–µ
    
    –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ê:
    –ï—Å–ª–∏ –Ω–µ—Ç —Ñ–æ—Ç–æ - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∑–∞–≥–ª—É—à–∫–∞–º–∏!
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            width: 100%;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h1 {
            font-size: 1.5em;
        }

        .progress-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .progress-text {
            font-size: 1.1em;
            font-weight: 600;
        }

        .stars {
            font-size: 1.5em;
        }

        .progress-bar-outer {
            background: rgba(255,255,255,0.3);
            height: 8px;
            width: 100%;
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-bar {
            background: #ffd700;
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
        }

        .content {
            padding: 40px;
            min-height: 500px;
        }

        .screen {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .start-screen {
            text-align: center;
        }

        .start-screen h2 {
            color: #333;
            font-size: 2.2em;
            margin-bottom: 20px;
        }

        .start-screen p {
            color: #666;
            font-size: 1.2em;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .instruction-box {
            background: linear-gradient(135deg, #f093fb15 0%, #f5576c15 100%);
            border-left: 4px solid #f5576c;
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
            text-align: left;
        }

        .instruction-box h3 {
            color: #f5576c;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .instruction-box ul {
            color: #666;
            padding-left: 25px;
            line-height: 1.8;
            font-size: 1.05em;
        }

        .btn {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border: none;
            padding: 18px 45px;
            font-size: 1.2em;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            font-weight: 600;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(245, 87, 108, 0.4);
        }

        .scenario-header {
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            border-left: 5px solid #667eea;
        }

        .scenario-image {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }

        .scenario-image-placeholder {
            width: 100%;
            height: 250px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4em;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }

        .scenario-header h3 {
            color: #333;
            font-size: 1.6em;
            margin-bottom: 15px;
        }

        .scenario-description {
            color: #666;
            font-size: 1.1em;
            line-height: 1.6;
        }

        .persona-selection {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .persona-card {
            background: white;
            border: 3px solid #e0e0e0;
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .persona-card:hover {
            border-color: #f5576c;
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(245, 87, 108, 0.2);
        }

        .persona-card.selected {
            border-color: #f5576c;
            background: linear-gradient(135deg, #f093fb15 0%, #f5576c15 100%);
        }

        .persona-emoji {
            font-size: 3em;
            margin-bottom: 10px;
        }

        .persona-name {
            font-weight: 600;
            color: #333;
            font-size: 1.1em;
            margin-bottom: 8px;
        }

        .persona-desc {
            color: #666;
            font-size: 0.95em;
        }

        .story-builder {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
        }

        .story-part {
            margin-bottom: 30px;
        }

        .part-label {
            color: #f5576c;
            font-weight: 600;
            font-size: 1.2em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .drop-zone {
            background: white;
            border: 3px dashed #ccc;
            border-radius: 15px;
            min-height: 70px;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            text-align: center;
            color: #999;
            font-style: italic;
        }

        .drop-zone.drag-over {
            border-color: #f5576c;
            background: #fff5f7;
            border-style: solid;
        }

        .drop-zone.filled {
            border-style: solid;
            border-color: #f5576c;
            background: linear-gradient(135deg, #f093fb15 0%, #f5576c15 100%);
            color: #333;
            font-style: normal;
        }

        .options-pool {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 15px;
        }

        .draggable-option {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: move;
            font-weight: 600;
            transition: all 0.3s ease;
            user-select: none;
            box-shadow: 0 3px 10px rgba(102, 126, 234, 0.3);
            font-size: 1em;
        }

        .draggable-option:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .draggable-option.dragging {
            opacity: 0.5;
        }

        .draggable-option.used {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .theme-selection {
            margin: 30px 0;
        }

        .theme-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
        }

        .theme-card {
            background: white;
            border: 3px solid #e0e0e0;
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .theme-card:hover {
            border-color: #667eea;
            transform: translateY(-3px);
        }

        .theme-card.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
        }

        .theme-emoji {
            font-size: 2em;
            margin-bottom: 8px;
        }

        .theme-name {
            color: #333;
            font-weight: 600;
            font-size: 0.95em;
        }

        .buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
        }

        .feedback {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            text-align: center;
            z-index: 1000;
            max-width: 500px;
            transition: transform 0.3s ease;
        }

        .feedback.show {
            transform: translate(-50%, -50%) scale(1);
        }

        .feedback-emoji {
            font-size: 6em;
            margin-bottom: 20px;
            animation: bounce 0.5s ease;
        }

        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            display: none;
            z-index: 999;
        }

        .overlay.show {
            display: block;
        }

        .final-screen {
            text-align: center;
        }

        .final-emoji {
            font-size: 7em;
            margin: 30px 0;
        }

        .final-score {
            font-size: 3em;
            color: #f5576c;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .content {
                padding: 20px;
            }
            .persona-selection {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìù –¢—Ä–µ–Ω–∞–∂—ë—Ä User Stories</h1>
            <div class="progress-container">
                <div class="progress-text"><span id="currentStory">0</span>/5</div>
                <div class="stars" id="starsDisplay">‚≠ê 0</div>
            </div>
        </div>
        <div class="progress-bar-outer">
            <div class="progress-bar" id="progressBar"></div>
        </div>

        <div class="content">
            <!-- –°—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω -->
            <div class="screen active" id="startScreen">
                <div class="start-screen">
                    <h2>üéØ –ù–∞—É—á–∏—Å—å –ø–∏—Å–∞—Ç—å User Stories!</h2>
                    <p>–°–æ–∑–¥–∞–π 5 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏—Å—Ç–æ—Ä–∏–π –¥–ª—è VR-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</p>
                    
                    <div class="instruction-box">
                        <h3>üìã –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:</h3>
                        <ul>
                            <li>–¢–µ–±–µ –ø–æ–∫–∞–∂—É—Ç VR-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</li>
                            <li>–í—ã–±–µ—Ä–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (User Persona)</li>
                            <li>–°–æ–±–µ—Ä–∏ User Story –∏–∑ —Ç—Ä—ë—Ö —á–∞—Å—Ç–µ–π:<br>
                                <strong>"–ö–∞–∫ [–∫—Ç–æ], —è —Ö–æ—á—É [—á—Ç–æ], —á—Ç–æ–±—ã [–∑–∞—á–µ–º]"</strong>
                            </li>
                            <li>–û–ø—Ä–µ–¥–µ–ª–∏ —Ç–µ–º—É –∏—Å—Ç–æ—Ä–∏–∏</li>
                            <li>–ü–æ–ª—É—á–∏ –∑–≤—ë–∑–¥—ã –∑–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã! ‚≠ê</li>
                        </ul>
                    </div>

                    <p style="color: #999; font-size: 1em;">‚è±Ô∏è –ó–∞–π–º—ë—Ç 15 –º–∏–Ω—É—Ç</p>
                    <button class="btn" onclick="startStory(1)">–ù–∞—á–∞—Ç—å!</button>
                </div>
            </div>

            <!-- –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ –ø–µ—Ä—Å–æ–Ω—ã -->
            <div class="screen" id="personaScreen">
                <div class="scenario-header">
                    <div id="scenarioImage">
                        <!-- üì∏ –°–Æ–î–ê –ó–ê–ì–†–£–ó–ò–¢–°–Ø –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ï –ò–ì–†–´ -->
                    </div>
                    <h3 id="scenarioTitle"></h3>
                    <div class="scenario-description" id="scenarioDesc"></div>
                </div>

                <h3 style="color: #333; margin-bottom: 20px; text-align: center;">üë§ –®–∞–≥ 1: –í—ã–±–µ—Ä–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h3>
                
                <div class="persona-selection" id="personaOptions"></div>

                <div class="buttons">
                    <button class="btn" id="personaNextBtn" onclick="selectPersona()" style="display: none;">–î–∞–ª–µ–µ ‚Üí</button>
                </div>
            </div>

            <!-- –≠–∫—Ä–∞–Ω —Å–æ–∑–¥–∞–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ -->
            <div class="screen" id="storyScreen">
                <div class="scenario-header">
                    <div id="scenarioImage2">
                        <!-- üì∏ –°–Æ–î–ê –ó–ê–ì–†–£–ó–ò–¢–°–Ø –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ï –ò–ì–†–´ -->
                    </div>
                    <h3 id="scenarioTitle2"></h3>
                    <div style="background: white; padding: 15px; border-radius: 10px; margin-top: 15px;">
                        <strong>üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</strong> <span id="selectedPersona"></span>
                    </div>
                </div>

                <h3 style="color: #333; margin-bottom: 20px; text-align: center;">‚úçÔ∏è –®–∞–≥ 2: –°–æ–±–µ—Ä–∏ User Story</h3>

                <div class="story-builder">
                    <div class="story-part">
                        <div class="part-label">1Ô∏è‚É£ –ö–∞–∫...</div>
                        <div class="drop-zone" data-part="who" id="dropWho">–ü–µ—Ä–µ—Ç–∞—â–∏ —Å—é–¥–∞ —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</div>
                        <div class="options-pool" id="whoOptions"></div>
                    </div>

                    <div class="story-part">
                        <div class="part-label">2Ô∏è‚É£ –Ø —Ö–æ—á—É...</div>
                        <div class="drop-zone" data-part="what" id="dropWhat">–ü–µ—Ä–µ—Ç–∞—â–∏ —Å—é–¥–∞ –∂–µ–ª–∞–µ–º–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ</div>
                        <div class="options-pool" id="whatOptions"></div>
                    </div>

                    <div class="story-part">
                        <div class="part-label">3Ô∏è‚É£ –ß—Ç–æ–±—ã...</div>
                        <div class="drop-zone" data-part="why" id="dropWhy">–ü–µ—Ä–µ—Ç–∞—â–∏ —Å—é–¥–∞ —Ü–µ–ª—å/–≤—ã–≥–æ–¥—É</div>
                        <div class="options-pool" id="whyOptions"></div>
                    </div>
                </div>

                <div class="buttons">
                    <button class="btn" id="storyNextBtn" onclick="goToTheme()" style="display: none;">–î–∞–ª–µ–µ ‚Üí</button>
                </div>
            </div>

            <!-- –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ —Ç–µ–º—ã -->
            <div class="screen" id="themeScreen">
                <h3 style="color: #333; margin-bottom: 20px; text-align: center;">üéØ –®–∞–≥ 3: –ö–∞–∫–∞—è —Ç–µ–º–∞ —É —ç—Ç–æ–π –∏—Å—Ç–æ—Ä–∏–∏?</h3>

                <div style="background: #f8f9fa; padding: 20px; border-radius: 15px; margin-bottom: 30px;">
                    <strong style="color: #f5576c;">–¢–≤–æ—è User Story:</strong>
                    <p id="finalStory" style="margin-top: 10px; font-size: 1.1em; line-height: 1.6; color: #333;"></p>
                </div>

                <div class="theme-selection">
                    <div class="theme-grid" id="themeOptions"></div>
                </div>

                <div class="buttons">
                    <button class="btn" onclick="checkStory()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å! üéØ</button>
                </div>
            </div>

            <!-- –§–∏–Ω–∞–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω -->
            <div class="screen" id="finalScreen">
                <div class="final-screen">
                    <div class="final-emoji">üèÜ</div>
                    <h2>–ù–µ–≤–µ—Ä–æ—è—Ç–Ω–æ!</h2>
                    <div class="final-score"><span id="finalStars">0</span> ‚≠ê</div>
                    <p style="font-size: 1.3em; color: #666; margin: 20px 0;" id="finalMessage"></p>
                    <div class="buttons">
                        <button class="btn" onclick="restart()">–ü—Ä–æ–π—Ç–∏ –∑–∞–Ω–æ–≤–æ</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="overlay" id="overlay"></div>
    <div class="feedback" id="feedback"></div>

    <script>
        const stories = [
            {
                title: "VR-–∏–≥—Ä–∞ 'Beat Saber'",
                description: "–ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è VR-–∏–≥—Ä–∞, –≥–¥–µ –Ω—É–∂–Ω–æ —Ä—É–±–∏—Ç—å –∫—É–±–∏–∫–∏ —Å–≤–µ—Ç–æ–≤—ã–º–∏ –º–µ—á–∞–º–∏ –≤ —Ç–∞–∫—Ç –º—É–∑—ã–∫–µ",
                image: "beat-saber.jpg",  // üì∏ –ò–ú–Ø –§–ê–ô–õ–ê: beat-saber.jpg
                imageAlt: "Beat Saber VR –∏–≥—Ä–∞",
                imagePlaceholder: "üéµ",
                personas: [
                    { emoji: "üëß", name: "–õ–µ–Ω–∞, 12 –ª–µ—Ç", desc: "–õ—é–±–∏—Ç –º—É–∑—ã–∫—É –∏ —Ç–∞–Ω—Ü—ã", correct: true },
                    { emoji: "üë®‚Äçüíº", name: "–û–ª–µ–≥, 50 –ª–µ—Ç", desc: "–û—Ñ–∏—Å–Ω—ã–π —Ä–∞–±–æ—Ç–Ω–∏–∫", correct: false },
                    { emoji: "üë∂", name: "–ú–∞–ª—ã—à, 4 –≥–æ–¥–∞", desc: "–î–æ—à–∫–æ–ª—å–Ω–∏–∫", correct: false }
                ],
                who: [
                    { text: "–∏–≥—Ä–æ–∫-–Ω–æ–≤–∏—á–æ–∫", correct: true },
                    { text: "–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –º—É–∑—ã–∫–∞–Ω—Ç", correct: false },
                    { text: "–±–∞–±—É—à–∫–∞", correct: false }
                ],
                what: [
                    { text: "–≤–∏–¥–µ—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∏ —Ä–∏—Ç–º–∞", correct: true },
                    { text: "–∏–≥—Ä–∞—Ç—å –Ω–∞ —Å–∫—Ä–∏–ø–∫–µ", correct: false },
                    { text: "–≥–æ—Ç–æ–≤–∏—Ç—å –µ–¥—É", correct: false }
                ],
                why: [
                    { text: "–Ω–∞—É—á–∏—Ç—å—Å—è –ø–æ–ø–∞–¥–∞—Ç—å –≤ —Ä–∏—Ç–º", correct: true },
                    { text: "—Å—Ç–∞—Ç—å –∏–∑–≤–µ—Å—Ç–Ω—ã–º", correct: false },
                    { text: "–ø–æ—Ö—É–¥–µ—Ç—å", correct: false }
                ],
                themes: [
                    { emoji: "üéì", name: "–û–±—É—á–µ–Ω–∏–µ", correct: true },
                    { emoji: "üéÆ", name: "–ì–µ–π–º–ø–ª–µ–π", correct: false },
                    { emoji: "‚öôÔ∏è", name: "–ù–∞—Å—Ç—Ä–æ–π–∫–∏", correct: false }
                ]
            },
            {
                title: "VR-—Ç—Ä–µ–Ω–∞–∂—ë—Ä '–ü—É–±–ª–∏—á–Ω—ã–µ –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏—è'",
                description: "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –Ω–∞–≤—ã–∫–æ–≤ –ø—É–±–ª–∏—á–Ω—ã—Ö –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–µ–π",
                image: "public-speaking.jpg",  // üì∏ –ò–ú–Ø –§–ê–ô–õ–ê: public-speaking.jpg
                imageAlt: "VR —Ç—Ä–µ–Ω–∞–∂—ë—Ä –ø—É–±–ª–∏—á–Ω—ã—Ö –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏–π",
                imagePlaceholder: "üé§",
                personas: [
                    { emoji: "üéì", name: "–°–∞—à–∞, 16 –ª–µ—Ç", desc: "–®–∫–æ–ª—å–Ω–∏–∫, –±–æ–∏—Ç—Å—è –≤—ã—Å—Ç—É–ø–∞—Ç—å", correct: true },
                    { emoji: "üë∂", name: "–î–∏–º–∞, 5 –ª–µ—Ç", desc: "–î–µ—Ç—Å–∞–¥–æ–≤–µ—Ü", correct: false },
                    { emoji: "üßì", name: "–ü–µ–Ω—Å–∏–æ–Ω–µ—Ä, 70 –ª–µ—Ç", desc: "–ù–∞ –ø–µ–Ω—Å–∏–∏", correct: false }
                ],
                who: [
                    { text: "—á–µ–ª–æ–≤–µ–∫ —Å –±–æ—è–∑–Ω—å—é –ø—É–±–ª–∏–∫–∏", correct: true },
                    { text: "–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∞–∫—Ç—ë—Ä", correct: false },
                    { text: "–∫–æ—Å–º–æ–Ω–∞–≤—Ç", correct: false }
                ],
                what: [
                    { text: "–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä –∞—É–¥–∏—Ç–æ—Ä–∏–∏", correct: true },
                    { text: "–ª–µ—Ç–∞—Ç—å –≤ –∫–æ—Å–º–æ—Å–µ", correct: false },
                    { text: "–∏–≥—Ä–∞—Ç—å –≤ —Ñ—É—Ç–±–æ–ª", correct: false }
                ],
                why: [
                    { text: "–Ω–∞—á–∞—Ç—å —Å –º–∞–ª–æ–≥–æ –∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø—Ä–∏–≤—ã–∫–Ω—É—Ç—å", correct: true },
                    { text: "—Å—Ç–∞—Ç—å –∑–≤–µ–∑–¥–æ–π TikTok", correct: false },
                    { text: "–ø–æ–±–µ–¥–∏—Ç—å –≤ –æ–ª–∏–º–ø–∏–∞–¥–µ", correct: false }
                ],
                themes: [
                    { emoji: "‚öôÔ∏è", name: "–ù–∞—Å—Ç—Ä–æ–π–∫–∏", correct: true },
                    { emoji: "üéÆ", name: "–ì–µ–π–º–ø–ª–µ–π", correct: false },
                    { emoji: "üó∫Ô∏è", name: "–ù–∞–≤–∏–≥–∞—Ü–∏—è", correct: false }
                ]
            },
            {
                title: "VR-–∏–≥—Ä–∞ '–ö–≤–µ—Å—Ç –≤ –ø–æ–¥–∑–µ–º–µ–ª—å–µ'",
                description: "–ü—Ä–∏–∫–ª—é—á–µ–Ω—á–µ—Å–∫–∞—è –∏–≥—Ä–∞ —Å –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º —Ç—ë–º–Ω—ã—Ö –ø–µ—â–µ—Ä –∏ –ø–æ–∏—Å–∫–æ–º —Å–æ–∫—Ä–æ–≤–∏—â",
                image: "dungeon-quest.jpg",  // üì∏ –ò–ú–Ø –§–ê–ô–õ–ê: dungeon-quest.jpg
                imageAlt: "VR –∫–≤–µ—Å—Ç –≤ –ø–æ–¥–∑–µ–º–µ–ª—å–µ",
                imagePlaceholder: "üó∫Ô∏è",
                personas: [
                    { emoji: "üßí", name: "–ú–∞–∫—Å–∏–º, 14 –ª–µ—Ç", desc: "–õ—é–±–∏—Ç –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è", correct: true },
                    { emoji: "üë®‚Äç‚öïÔ∏è", name: "–í—Ä–∞—á, 40 –ª–µ—Ç", desc: "–†–∞–±–æ—Ç–∞–µ—Ç –≤ –±–æ–ª—å–Ω–∏—Ü–µ", correct: false },
                    { emoji: "üê±", name: "–ö–æ—Ç –ú—É—Ä–∑–∏–∫", desc: "–î–æ–º–∞—à–Ω–∏–π –ø–∏—Ç–æ–º–µ—Ü", correct: false }
                ],
                who: [
                    { text: "–∏–≥—Ä–æ–∫ –≤ VR", correct: true },
                    { text: "–ø–æ–≤–∞—Ä –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ", correct: false },
                    { text: "—É—á–∏—Ç–µ–ª—å –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏", correct: false }
                ],
                what: [
                    { text: "—Ç–µ–ª–µ–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–π —Ç–æ—á–∫–µ", correct: true },
                    { text: "–ø–µ—á—å –ø–∏—Ü—Ü—É", correct: false },
                    { text: "—Å—Ç—Ä–∏—á—å –≥–∞–∑–æ–Ω", correct: false }
                ],
                why: [
                    { text: "–Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –¥–ª–∏–Ω–Ω—ã–π –ø—É—Ç—å –∑–∞–Ω–æ–≤–æ", correct: true },
                    { text: "–Ω–∞—É—á–∏—Ç—å—Å—è –ª–µ—Ç–∞—Ç—å", correct: false },
                    { text: "–≤—ã—É—á–∏—Ç—å –∞–Ω–≥–ª–∏–π—Å–∫–∏–π", correct: false }
                ],
                themes: [
                    { emoji: "üó∫Ô∏è", name: "–ù–∞–≤–∏–≥–∞—Ü–∏—è", correct: true },
                    { emoji: "üéì", name: "–û–±—É—á–µ–Ω–∏–µ", correct: false },
                    { emoji: "üë•", name: "–°–æ—Ü–∏–∞–ª—å–Ω–æ–µ", correct: false }
                ]
            },
            {
                title: "VR-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ '–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –º—É–∑–µ–π'",
                description: "–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏ —ç–∫—Å–∫—É—Ä—Å–∏—è–º–∏ –ø–æ –º—É–∑–µ—è–º –º–∏—Ä–∞",
                image: "virtual-museum.jpg",  // üì∏ –ò–ú–Ø –§–ê–ô–õ–ê: virtual-museum.jpg
                imageAlt: "–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –º—É–∑–µ–π VR",
                imagePlaceholder: "üèõÔ∏è",
                personas: [
                    { emoji: "üëß", name: "–ö–∞—Ç—è, 11 –ª–µ—Ç", desc: "–ò–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç—Å—è –∏—Å—Ç–æ—Ä–∏–µ–π", correct: true },
                    { emoji: "üèÉ", name: "–°–ø–æ—Ä—Ç—Å–º–µ–Ω, 25 –ª–µ—Ç", desc: "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –±–µ–≥—É–Ω", correct: false },
                    { emoji: "üëΩ", name: "–ò–Ω–æ–ø–ª–∞–Ω–µ—Ç—è–Ω–∏–Ω", desc: "–° –ú–∞—Ä—Å–∞", correct: false }
                ],
                who: [
                    { text: "—É—á–µ–Ω–∏–∫ –Ω–∞ —É—Ä–æ–∫–µ", correct: true },
                    { text: "–ø–∏–ª–æ—Ç —Å–∞–º–æ–ª—ë—Ç–∞", correct: false },
                    { text: "–∑–æ–º–±–∏", correct: false }
                ],
                what: [
                    { text: "—Å–ª—É—à–∞—Ç—å –∞—É–¥–∏–æ–≥–∏–¥ –Ω–µ —Å–Ω–∏–º–∞—è —à–ª–µ–º", correct: true },
                    { text: "—É–ø—Ä–∞–≤–ª—è—Ç—å –≤–µ—Ä—Ç–æ–ª—ë—Ç–æ–º", correct: false },
                    { text: "–≤–∞—Ä–∏—Ç—å —Å—É–ø", correct: false }
                ],
                why: [
                    { text: "—É–∑–Ω–∞–≤–∞—Ç—å —Ñ–∞–∫—Ç—ã –æ–± —ç–∫—Å–ø–æ–Ω–∞—Ç–∞—Ö", correct: true },
                    { text: "—Å—Ç–∞—Ç—å –º–∏–ª–ª–∏–æ–Ω–µ—Ä–æ–º", correct: false },
                    { text: "–Ω–∞—É—á–∏—Ç—å—Å—è —Ç–∞–Ω—Ü–µ–≤–∞—Ç—å", correct: false }
                ],
                themes: [
                    { emoji: "üñºÔ∏è", name: "–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å", correct: true },
                    { emoji: "üéÆ", name: "–ì–µ–π–º–ø–ª–µ–π", correct: false },
                    { emoji: "üîí", name: "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å", correct: false }
                ]
            },
            {
                title: "VR-–∏–≥—Ä–∞ '–ö–æ—Å–º–∏—á–µ—Å–∫–∏–µ –≥–æ–Ω–∫–∏'",
                description: "–î–∏–Ω–∞–º–∏—á–Ω–∞—è –≥–æ–Ω–æ—á–Ω–∞—è –∏–≥—Ä–∞ –Ω–∞ –∫–æ—Å–º–∏—á–µ—Å–∫–∏—Ö –∫–æ—Ä–∞–±–ª—è—Ö —Å –≤—ã—Å–æ–∫–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é",
                image: "space-racing.jpg",  // üì∏ –ò–ú–Ø –§–ê–ô–õ–ê: space-racing.jpg
                imageAlt: "–ö–æ—Å–º–∏—á–µ—Å–∫–∏–µ –≥–æ–Ω–∫–∏ VR",
                imagePlaceholder: "üöÄ",
                personas: [
                    { emoji: "üßë", name: "–ê—Ä—Ç—ë–º, 13 –ª–µ—Ç", desc: "–õ—é–±–∏—Ç –±—ã—Å—Ç—Ä—ã–µ –∏–≥—Ä—ã", correct: true },
                    { emoji: "üë¥", name: "–î–µ–¥—É—à–∫–∞, 80 –ª–µ—Ç", desc: "–ü–µ–Ω—Å–∏–æ–Ω–µ—Ä", correct: false },
                    { emoji: "ü¶ñ", name: "–î–∏–Ω–æ–∑–∞–≤—Ä", desc: "–¢–∏—Ä–∞–Ω–Ω–æ–∑–∞–≤—Ä", correct: false }
                ],
                who: [
                    { text: "–∏–≥—Ä–æ–∫, –∫–æ—Ç–æ—Ä–æ–≥–æ —É–∫–∞—á–∏–≤–∞–µ—Ç", correct: true },
                    { text: "–±–∞–ª–µ—Ä–∏–Ω–∞", correct: false },
                    { text: "—Å—É–ø–µ—Ä–≥–µ—Ä–æ–π", correct: false }
                ],
                what: [
                    { text: "–≤–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º —É–º–µ–Ω—å—à–µ–Ω–∏—è —É–∫–∞—á–∏–≤–∞–Ω–∏—è", correct: true },
                    { text: "–∏—Å–ø–µ—á—å —Ç–æ—Ä—Ç", correct: false },
                    { text: "—Å–ø–∞—Å—Ç–∏ –º–∏—Ä", correct: false }
                ],
                why: [
                    { text: "–∏–≥—Ä–∞—Ç—å –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ –±–µ–∑ —Ç–æ—à–Ω–æ—Ç—ã", correct: true },
                    { text: "–≤—ã–∏–≥—Ä–∞—Ç—å –≤ –ª–æ—Ç–µ—Ä–µ—é", correct: false },
                    { text: "–Ω–∞–π—Ç–∏ —Å–æ–∫—Ä–æ–≤–∏—â–∞", correct: false }
                ],
                themes: [
                    { emoji: "‚öôÔ∏è", name: "–ù–∞—Å—Ç—Ä–æ–π–∫–∏", correct: true },
                    { emoji: "üéÆ", name: "–ì–µ–π–º–ø–ª–µ–π", correct: false },
                    { emoji: "üë•", name: "–°–æ—Ü–∏–∞–ª—å–Ω–æ–µ", correct: false }
                ]
            }
        ];

        let currentStoryIndex = 0;
        let totalStars = 0;
        let selectedPersona = null;
        let selectedParts = { who: null, what: null, why: null };
        let selectedTheme = null;
        let draggedElement = null;

        function startStory(index) {
            currentStoryIndex = index - 1;
            showPersonaScreen();
        }

        function showPersonaScreen() {
            const story = stories[currentStoryIndex];
            
            // –°–æ–∑–¥–∞—ë–º HTML —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
            let imageHTML = '';
            const img = new Image();
            img.src = story.image;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            img.onerror = function() {
                // –ï—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ—Ç, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥–ª—É—à–∫—É —Å —ç–º–æ–¥–∑–∏
                document.getElementById('scenarioImage').innerHTML = 
                    '<div class="scenario-image-placeholder">' + story.imagePlaceholder + '</div>';
            };
            img.onload = function() {
                // –ï—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –µ—Å—Ç—å, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –µ–≥–æ
                document.getElementById('scenarioImage').innerHTML = 
                    '<img src="' + story.image + '" alt="' + story.imageAlt + '" class="scenario-image">';
            };
            
            document.getElementById('scenarioTitle').textContent = story.title;
            document.getElementById('scenarioDesc').textContent = story.description;
            
            const personaOptions = document.getElementById('personaOptions');
            personaOptions.innerHTML = '';
            
            story.personas.forEach((persona, idx) => {
                const card = document.createElement('div');
                card.className = 'persona-card';
                card.onclick = function() { choosePersona(idx); };
                card.innerHTML = '<div class="persona-emoji">' + persona.emoji + '</div>' +
                    '<div class="persona-name">' + persona.name + '</div>' +
                    '<div class="persona-desc">' + persona.desc + '</div>';
                personaOptions.appendChild(card);
            });
            
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById('personaScreen').classList.add('active');
            document.getElementById('personaNextBtn').style.display = 'none';
            selectedPersona = null;
        }

        function choosePersona(index) {
            selectedPersona = index;
            document.querySelectorAll('.persona-card').forEach((c, i) => {
                if (i === index) {
                    c.classList.add('selected');
                } else {
                    c.classList.remove('selected');
                }
            });
            document.getElementById('personaNextBtn').style.display = 'inline-block';
        }

        function selectPersona() {
            const story = stories[currentStoryIndex];
            document.getElementById('scenarioTitle2').textContent = story.title;
            document.getElementById('selectedPersona').textContent = story.personas[selectedPersona].name;
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –≤—Ç–æ—Ä–æ–π —ç–∫—Ä–∞–Ω
            const img = new Image();
            img.src = story.image;
            img.onerror = function() {
                document.getElementById('scenarioImage2').innerHTML = 
                    '<div class="scenario-image-placeholder">' + story.imagePlaceholder + '</div>';
            };
            img.onload = function() {
                document.getElementById('scenarioImage2').innerHTML = 
                    '<img src="' + story.image + '" alt="' + story.imageAlt + '" class="scenario-image">';
            };
            
            initStoryBuilder();
            
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById('storyScreen').classList.add('active');
        }

        function initStoryBuilder() {
            const story = stories[currentStoryIndex];
            selectedParts = { who: null, what: null, why: null };
            
            ['who', 'what', 'why'].forEach(part => {
                const container = document.getElementById(part + 'Options');
                container.innerHTML = '';
                
                story[part].forEach((option, idx) => {
                    const opt = document.createElement('div');
                    opt.className = 'draggable-option';
                    opt.draggable = true;
                    opt.textContent = option.text;
                    opt.dataset.part = part;
                    opt.dataset.index = idx;
                    opt.addEventListener('dragstart', handleDragStart);
                    opt.addEventListener('dragend', handleDragEnd);
                    container.appendChild(opt);
                });
            });
            
            ['who', 'what', 'why'].forEach(part => {
                const zone = document.getElementById('drop' + part.charAt(0).toUpperCase() + part.slice(1));
                zone.innerHTML = zone.dataset.part === 'who' ? '–ü–µ—Ä–µ—Ç–∞—â–∏ —Å—é–¥–∞ —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è' :
                    zone.dataset.part === 'what' ? '–ü–µ—Ä–µ—Ç–∞—â–∏ —Å—é–¥–∞ –∂–µ–ª–∞–µ–º–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ' :
                    '–ü–µ—Ä–µ—Ç–∞—â–∏ —Å—é–¥–∞ —Ü–µ–ª—å/–≤—ã–≥–æ–¥—É';
                zone.classList.remove('filled');
                zone.addEventListener('dragover', handleDragOver);
                zone.addEventListener('drop', handleDrop);
                zone.addEventListener('dragleave', handleDragLeave);
            });
            
            document.getElementById('storyNextBtn').style.display = 'none';
        }

        function handleDragStart(e) {
            draggedElement = this;
            this.classList.add('dragging');
        }

        function handleDragEnd(e) {
            this.classList.remove('dragging');
        }

        function handleDragOver(e) {
            e.preventDefault();
            this.classList.add('drag-over');
        }

        function handleDragLeave(e) {
            this.classList.remove('drag-over');
        }

        function handleDrop(e) {
            e.preventDefault();
            this.classList.remove('drag-over');
            
            if (!draggedElement) return;
            
            const targetPart = this.dataset.part;
            const draggedPart = draggedElement.dataset.part;
            
            if (targetPart !== draggedPart) return;
            
            this.textContent = draggedElement.textContent;
            this.classList.add('filled');
            
            selectedParts[targetPart] = parseInt(draggedElement.dataset.index);
            
            draggedElement.classList.add('used');
            draggedElement = null;
            
            checkStoryComplete();
        }

        function checkStoryComplete() {
            if (selectedParts.who !== null && selectedParts.what !== null && selectedParts.why !== null) {
                document.getElementById('storyNextBtn').style.display = 'inline-block';
            }
        }

        function goToTheme() {
            const story = stories[currentStoryIndex];
            const storyText = '–ö–∞–∫ ' + story.who[selectedParts.who].text + ', —è —Ö–æ—á—É ' + 
                story.what[selectedParts.what].text + ', —á—Ç–æ–±—ã ' + story.why[selectedParts.why].text;
            
            document.getElementById('finalStory').textContent = storyText;
            
            const themeOptions = document.getElementById('themeOptions');
            themeOptions.innerHTML = '';
            
            story.themes.forEach((theme, idx) => {
                const card = document.createElement('div');
                card.className = 'theme-card';
                card.onclick = function() { chooseTheme(idx); };
                card.innerHTML = '<div class="theme-emoji">' + theme.emoji + '</div>' +
                    '<div class="theme-name">' + theme.name + '</div>';
                themeOptions.appendChild(card);
            });
            
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById('themeScreen').classList.add('active');
            selectedTheme = null;
        }

        function chooseTheme(index) {
            selectedTheme = index;
            document.querySelectorAll('.theme-card').forEach((c, i) => {
                if (i === index) {
                    c.classList.add('selected');
                } else {
                    c.classList.remove('selected');
                }
            });
        }

        function checkStory() {
            const story = stories[currentStoryIndex];
            let stars = 0;
            
            if (story.personas[selectedPersona].correct) stars += 2;
            if (story.who[selectedParts.who].correct) stars += 2;
            if (story.what[selectedParts.what].correct) stars += 2;
            if (story.why[selectedParts.why].correct) stars += 2;
            if (selectedTheme !== null && story.themes[selectedTheme].correct) stars += 2;
            
            totalStars += stars;
            updateProgress();
            
            const messages = [
                { min: 10, emoji: 'üéâ', title: '–ò–¥–µ–∞–ª—å–Ω–æ!', text: '–¢—ã —Å–æ–∑–¥–∞–ª –±–µ–∑—É–ø—Ä–µ—á–Ω—É—é User Story! +' + stars + ' –∑–≤—ë–∑–¥!' },
                { min: 8, emoji: 'üåü', title: '–û—Ç–ª–∏—á–Ω–æ!', text: '–ü–æ—á—Ç–∏ –∏–¥–µ–∞–ª—å–Ω–æ! +' + stars + ' –∑–≤—ë–∑–¥!' },
                { min: 6, emoji: 'üëç', title: '–•–æ—Ä–æ—à–æ!', text: '–ù–µ–ø–ª–æ—Ö–∞—è –∏—Å—Ç–æ—Ä–∏—è! +' + stars + ' –∑–≤—ë–∑–¥!' },
                { min: 0, emoji: 'üí™', title: '–°—Ç–∞—Ä–∞–µ—à—å—Å—è!', text: '–ü—Ä–æ–¥–æ–ª–∂–∞–π –ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è! +' + stars + ' –∑–≤—ë–∑–¥!' }
            ];
            
            const msg = messages.find(m => stars >= m.min);
            
            showFeedback(msg.emoji, msg.title, msg.text, function() {
                if (currentStoryIndex < 4) {
                    currentStoryIndex++;
                    showPersonaScreen();
                } else {
                    showFinalScreen();
                }
            });
        }

        function showFeedback(emoji, title, text, callback) {
            const feedback = document.getElementById('feedback');
            const overlay = document.getElementById('overlay');
            
            feedback.innerHTML = '<div class="feedback-emoji">' + emoji + '</div>' +
                '<h2>' + title + '</h2><p style="font-size: 1.2em; margin: 20px 0;">' + text + '</p>' +
                '<button class="btn" onclick="handleFeedbackClose()">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>';
            
            window.feedbackCallback = callback;
            
            overlay.classList.add('show');
            feedback.classList.add('show');
        }

        function handleFeedbackClose() {
            document.getElementById('overlay').classList.remove('show');
            document.getElementById('feedback').classList.remove('show');
            if (window.feedbackCallback) {
                window.feedbackCallback();
                window.feedbackCallback = null;
            }
        }

        function updateProgress() {
            const progress = ((currentStoryIndex + 1) / 5) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentStory').textContent = currentStoryIndex + 1;
            document.getElementById('starsDisplay').textContent = '‚≠ê ' + totalStars;
        }

        function showFinalScreen() {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById('finalScreen').classList.add('active');
            document.getElementById('finalStars').textContent = totalStars;
            
            let message = '';
            if (totalStars === 50) {
                message = '–¢—ã –º–∞—Å—Ç–µ—Ä User Stories! –í—Å–µ 5 –∏—Å—Ç–æ—Ä–∏–π –∏–¥–µ–∞–ª—å–Ω—ã! üèÜ';
            } else if (totalStars >= 40) {
                message = '–ü–æ—Ç—Ä—è—Å–∞—é—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! –¢—ã –æ—Ç–ª–∏—á–Ω–æ —Ä–∞–∑–±–∏—Ä–∞–µ—à—å—Å—è –≤ User Stories! üåü';
            } else if (totalStars >= 30) {
                message = '–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! –ü—Ä–æ–¥–æ–ª–∂–∞–π –ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è! üëç';
            } else {
                message = '–•–æ—Ä–æ—à–µ–µ –Ω–∞—á–∞–ª–æ! –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑ –∏ –±—É–¥–µ—Ç –µ—â—ë –ª—É—á—à–µ! üí™';
            }
            
            document.getElementById('finalMessage').textContent = message;
        }

        function restart() {
            currentStoryIndex = 0;
            totalStars = 0;
            updateProgress();
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById('startScreen').classList.add('active');
        }
    </script>
</body>
</html>
<!--
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üì∏ –ö–†–ê–¢–ö–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –î–û–ë–ê–í–õ–ï–ù–ò–Æ –§–û–¢–û
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

–®–ê–ì 1: –ù–∞–π–¥–∏ –∏–ª–∏ —Å–æ–∑–¥–∞–π 5 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π VR-–∏–≥—Ä

–®–ê–ì 2: –ù–∞–∑–æ–≤–∏ –∏—Ö –¢–û–ß–ù–û —Ç–∞–∫:
   beat-saber.jpg
   public-speaking.jpg
   dungeon-quest.jpg
   virtual-museum.jpg
   space-racing.jpg

–®–ê–ì 3: –ü–æ–ª–æ–∂–∏ –∏—Ö –≤ –¢–£ –ñ–ï –ü–ê–ü–ö–£, –≥–¥–µ –ª–µ–∂–∏—Ç —ç—Ç–æ—Ç HTML —Ñ–∞–π–ª

–ì–û–¢–û–í–û! –û–±–Ω–æ–≤–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ—è–≤—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

–ü–†–ò–ú–ï–ß–ê–ù–ò–ï: –ï—Å–ª–∏ –∫–∞–∫–æ–≥–æ-—Ç–æ —Ñ–æ—Ç–æ –Ω–µ—Ç - –≤–º–µ—Å—Ç–æ –Ω–µ–≥–æ –±—É–¥–µ—Ç 
            –∫—Ä–∞—Å–∏–≤–∞—è –∑–∞–≥–ª—É—à–∫–∞ —Å —ç–º–æ–¥–∑–∏ üòä

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
-->
